<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
		<title>APP</title>
		<link rel="stylesheet" href="css/mui.min.css" />
		<script type="text/javascript" src="js/av-0.5.0.min.js" ></script>
		<script type="text/javascript" src="js/config.js" ></script>
		<script type="text/javascript" src="js/jquery-2.1.3.js" ></script>
		<script type="text/javascript" src="js/mico-user-0.1.js" ></script>
	</head>
	<body>
		<div align="center">
			<br/>
			<br/>
			<input type="button" value="验证是否存在" onclick="isExist()"/>
			<br/>
			<br/>
			<input type="button" value="获取验证码" onclick="sendSMS()"/>
			<br/>
			<br/>
			<input type="button" value="验证验证码" onclick="yanzSms()"/>
			<br/>
			<br/>
			<input type="button" value="设置密码" onclick="setPsw()"/>
			<br/>
			<br/>
			<input type="button" value="登录" onclick="login()"/>
			<br/>
			<br/>
			<input type="button" value="重置密码" onclick="resetPsw()"/>
			<br/>
			<br/>
			<input type="button" value="修改密码" onclick="updatePsw()"/>
			<br/>
			<br/>
			<input type="button" value="修改邮箱" onclick="updateEmail()"/>
		</div>
	</body>
	<script type="text/javascript">
		apiready = function() {
		};
		
		function isExist() {
			var phone = "13122222222";
			$mxuser.isExist(phone, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				//				alert("err = " + JSON.stringify(err));
			});
		}

		function sendSMS() {
			var phone = "13122222222";
			$mxuser.getSmsCode(phone, function(ret) {
				//发送成功
				alert("ret = " + ret);
			});
		}

		function yanzSms() {
			var phone = "13122222222";
			var identify = "194662";
			$mxuser.signUpOrlogInByPhone(phone, identify, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}

		function setPsw() {
			var phone = "13122222222";
			var password = "123456";
			$mxuser.setPassword(phone, password, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}

		function login() {
			var phone = "13122222222";
			var password = "123456";
			$mxuser.loginWithPhone(phone, password, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}

		function resetPsw() {
			var password = "123456";
			$mxuser.resetPassword(password, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}

		function updatePsw() {
			var oldpsw = "123456";
			var password = "123456";
			$mxuser.updatePassword(oldpsw, password, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}

		function updateEmail() {
			var email = "222@qq.com";
			$mxuser.updateEmail(email, function(ret, err) {
				alert("ret = " + JSON.stringify(ret));
				alert("err = " + JSON.stringify(err));
			});
		}
	</script>
</html>